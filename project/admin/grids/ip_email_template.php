<?phprequire_once($_SERVER["DOCUMENT_ROOT"]."/ip-includes/gridincludes.php");// Create the jqGrid instance$grid = new jqGridRender($DB);// Write the SQL Query$grid->SelectCommand = 'SELECT id, name, htmlcode from ip_email_templates ';// Set the table to where we add the data$grid->table = 'ip_email_templates';$grid->setPrimaryKeyId('id');$grid->serialKey = false;// set the ouput format to json$grid->dataType = 'json';// Let the grid create the model from SQL query$grid->setColModel();// Set the url from where we obtain the data$grid->setUrl('../grids/ip_email_template.php');// Change some property of the field(s)$grid->setColProperty("id", array("hidden"=>true,"editable"=>false, "width"=>50, "fixed"=>true, "label"=>"Id"));$grid->setColProperty("name", array("editable"=>true, "width"=>150, "fixed"=>true, "label"=>"Name"));$grid->setColProperty("htmlcode", array("hidden"=>true, "editable"=>false, "width"=>150, "fixed"=>true));// Set alternate background using altRows property$grid->setGridOptions(array(    "sortable"=>true,    "width"=>1024,    "height"=>250,    "caption"=>"Email Template Management",    "rownumbers"=>true,    "rowNum"=>30,    "sortname"=>"id",    "sortorder"=>"asc",    "toppager"=>true,    "rowList"=>array(10,20,30,50,100),));$grid->showError = true;$grid->navigator = true;$grid->setNavOptions('navigator', array("pdf"=>true,"excel"=>true,"add"=>true,"edit"=>true,"del"=>false,"view"=>true, "search"=>true));$grid->setNavOptions('view',array("width"=>750, "dataheight"=>500, "viewCaption"=>"Email Template Management"));$grid->setNavOptions('add',array("width"=>750, "dataheight"=>500, "closeOnEscape"=>true, "closeAfterAdd"=>true, "addCaption"=>"Add Template","bSubmit"=>"Add Template", "reloadAfterSubmit"=>false));$grid->setNavOptions('edit',array("width"=>750, "dataheight"=>500, "closeOnEscape"=>true, "closeAfterEdit"=>true,"editCaption"=>"Update Template","bSubmit"=>"Update Template", "reloadAfterSubmit"=>false));//$grid->toolbarfilter = true;$grid->callGridMethod('#grid', 'setFrozenColumns');$grid->callGridMethod('#grid', 'gridResize');$bindkeys =<<<KEYS$("#grid").jqGrid('bindKeys', {"onEnter":function( rowid ) {                    var rowData = jQuery('#grid').jqGrid ('getRowData', rowid);                    var myRedirect = function(redirectUrl) {                        console.log(rowData.htmlcode);                        var form = $('<form action="' + redirectUrl + '" method="post" enctype="multipart/form-data">' +                        '<input type="hidden" name="id" value="' + rowData.id +'" />' +                        '<input type="hidden" name="htmlcode" value="' + escape(rowData.htmlcode) + '" />' +                        '</form>');                        $('body').append(form);                        $(form).submit();                        };                    myRedirect('ajax-content/test_html_template.php');                    } } );KEYS;$grid->setJSCode($bindkeys);$grid->renderGrid('#grid','#pager',true, null, null, true,true);$DB = null;?>